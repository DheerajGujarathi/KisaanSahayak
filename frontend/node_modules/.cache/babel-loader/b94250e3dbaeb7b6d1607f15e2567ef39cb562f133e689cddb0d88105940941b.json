{"ast":null,"code":"var _jsxFileName = \"D:\\\\RAG-Farmers\\\\web-app\\\\frontend\\\\src\\\\components\\\\ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiSend, FiUser, FiMessageCircle, FiAlertCircle } from 'react-icons/fi';\nimport { chatService } from '../services/chatService';\nimport { v4 as uuidv4 } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n  padding: ${props => props.theme.spacing.md};\n  overflow: hidden; /* Prevent container overflow */\n`;\n_c = ChatContainer;\nconst MessagesContainer = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: ${props => props.theme.spacing.sm};\n  display: flex;\n  flex-direction: column;\n  gap: ${props => props.theme.spacing.sm};\n  min-height: 0; /* Ensures proper scrolling */\n`;\n_c2 = MessagesContainer;\nconst Message = styled.div`\n  display: flex;\n  gap: ${props => props.theme.spacing.sm};\n  align-items: flex-start;\n  opacity: ${props => props.isNew ? 0 : 1};\n  animation: ${props => props.isNew ? 'fadeIn 0.3s ease-out forwards' : 'none'};\n  width: 100%;\n  margin-bottom: ${props => props.theme.spacing.xs};\n  \n  ${props => props.isUser && `\n    flex-direction: row-reverse;\n    align-self: flex-end;\n  `}\n  \n  @keyframes fadeIn {\n    from { opacity: 0; transform: translateY(10px); }\n    to { opacity: 1; transform: translateY(0); }\n  }\n`;\n_c3 = Message;\nconst Avatar = styled.div`\n  width: 32px;\n  height: 32px;\n  border-radius: ${props => props.theme.borderRadius.full};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  color: white;\n  font-size: ${props => props.theme.fontSizes.sm};\n  \n  ${props => props.isUser ? `\n    background: ${props.theme.colors.primary};\n  ` : `\n    background: ${props.theme.colors.secondary};\n  `}\n`;\n_c4 = Avatar;\nconst MessageBubble = styled.div`\n  max-width: 70%;\n  min-width: 80px;\n  padding: ${props => props.theme.spacing.sm} ${props => props.theme.spacing.md};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  font-size: ${props => props.theme.fontSizes.base};\n  line-height: 1.4;\n  border: 2px solid;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  word-wrap: break-word;\n  \n  ${props => props.isUser ? `\n    background: ${props.theme.colors.primary};\n    color: white;\n    border-color: ${props.theme.colors.primary};\n    border-bottom-right-radius: ${props.theme.borderRadius.sm};\n  ` : `\n    background: ${props.theme.colors.surface};\n    color: ${props.theme.colors.text};\n    border-color: ${props.theme.colors.border};\n    border-bottom-left-radius: ${props.theme.borderRadius.sm};\n  `}\n`;\n_c5 = MessageBubble;\nconst FormattedMessage = styled.div`\n  line-height: 1.6;\n  \n  h3 {\n    font-weight: 600;\n    font-size: ${props => props.theme.fontSizes.lg};\n    margin: ${props => props.theme.spacing.md} 0 ${props => props.theme.spacing.sm} 0;\n    color: ${props => props.theme.colors.primary};\n    \n    &:first-child {\n      margin-top: 0;\n    }\n  }\n  \n  h4 {\n    font-weight: 600;\n    font-size: ${props => props.theme.fontSizes.base};\n    margin: ${props => props.theme.spacing.sm} 0 ${props => props.theme.spacing.xs} 0;\n    color: ${props => props.theme.colors.textSecondary};\n  }\n  \n  ul {\n    margin: ${props => props.theme.spacing.xs} 0;\n    padding-left: ${props => props.theme.spacing.lg};\n    \n    li {\n      margin-bottom: ${props => props.theme.spacing.xs};\n      line-height: 1.5;\n    }\n  }\n  \n  p {\n    margin: ${props => props.theme.spacing.sm} 0;\n    \n    &:first-child {\n      margin-top: 0;\n    }\n    \n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n  \n  strong {\n    font-weight: 600;\n    color: ${props => props.theme.colors.primary};\n  }\n  \n  .section {\n    margin-bottom: ${props => props.theme.spacing.md};\n    \n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n`;\n_c6 = FormattedMessage;\nconst MessageTime = styled.div`\n  font-size: ${props => props.theme.fontSizes.xs};\n  color: ${props => props.isUser ? 'rgba(255,255,255,0.8)' : props.theme.colors.textSecondary};\n  margin-top: ${props => props.theme.spacing.xs};\n`;\n_c7 = MessageTime;\nconst InputContainer = styled.div`\n  display: flex;\n  gap: ${props => props.theme.spacing.sm};\n  padding: ${props => props.theme.spacing.md};\n  background: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  border: 1px solid ${props => props.theme.colors.border};\n  margin-top: ${props => props.theme.spacing.md};\n`;\n_c8 = InputContainer;\nconst MessageInput = styled.textarea`\n  flex: 1;\n  border: none;\n  background: transparent;\n  font-size: ${props => props.theme.fontSizes.base};\n  font-family: inherit;\n  color: ${props => props.theme.colors.text};\n  resize: none;\n  outline: none;\n  min-height: 20px;\n  max-height: 120px;\n  \n  &::placeholder {\n    color: ${props => props.theme.colors.textSecondary};\n  }\n`;\n_c9 = MessageInput;\nconst SendButton = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  border: none;\n  background: ${props => props.disabled ? props.theme.colors.borderLight : props.theme.colors.primary};\n  color: white;\n  border-radius: ${props => props.theme.borderRadius.md};\n  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};\n  transition: all ${props => props.theme.transitions.fast};\n  \n  &:hover:not(:disabled) {\n    background: ${props => props.theme.colors.primaryDark};\n  }\n`;\n_c0 = SendButton;\nconst TypingIndicator = styled.div`\n  display: flex;\n  gap: ${props => props.theme.spacing.sm};\n  align-items: center;\n  padding: ${props => props.theme.spacing.md};\n  background: ${props => props.theme.colors.surface};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  border-bottom-left-radius: ${props => props.theme.borderRadius.sm};\n  color: ${props => props.theme.colors.textSecondary};\n  font-style: italic;\n  \n  .dots {\n    display: flex;\n    gap: 2px;\n  }\n  \n  .dot {\n    width: 4px;\n    height: 4px;\n    background: ${props => props.theme.colors.textSecondary};\n    border-radius: 50%;\n    animation: pulse 1.4s ease-in-out infinite both;\n  }\n  \n  .dot:nth-child(1) { animation-delay: -0.32s; }\n  .dot:nth-child(2) { animation-delay: -0.16s; }\n`;\n_c1 = TypingIndicator;\nconst ErrorMessage = styled.div`\n  display: flex;\n  align-items: center;\n  gap: ${props => props.theme.spacing.sm};\n  padding: ${props => props.theme.spacing.md};\n  background: ${props => props.theme.colors.error}10;\n  border: 1px solid ${props => props.theme.colors.error}30;\n  border-radius: ${props => props.theme.borderRadius.md};\n  color: ${props => props.theme.colors.error};\n  font-size: ${props => props.theme.fontSizes.sm};\n  margin-top: ${props => props.theme.spacing.sm};\n`;\n_c10 = ErrorMessage;\nconst WelcomeMessage = styled.div`\n  text-align: center;\n  padding: ${props => props.theme.spacing.xl};\n  color: ${props => props.theme.colors.textSecondary};\n  \n  h2 {\n    font-size: ${props => props.theme.fontSizes['2xl']};\n    color: ${props => props.theme.colors.primary};\n    margin-bottom: ${props => props.theme.spacing.md};\n  }\n  \n  p {\n    font-size: ${props => props.theme.fontSizes.lg};\n    margin-bottom: ${props => props.theme.spacing.lg};\n  }\n  \n  .examples {\n    display: flex;\n    flex-direction: column;\n    gap: ${props => props.theme.spacing.sm};\n    max-width: 400px;\n    margin: 0 auto;\n  }\n`;\n_c11 = WelcomeMessage;\nconst ExampleQuery = styled.button`\n  padding: ${props => props.theme.spacing.sm} ${props => props.theme.spacing.md};\n  border: 1px solid ${props => props.theme.colors.border};\n  background: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.md};\n  color: ${props => props.theme.colors.text};\n  cursor: pointer;\n  font-size: ${props => props.theme.fontSizes.sm};\n  transition: all ${props => props.theme.transitions.fast};\n  \n  &:hover {\n    border-color: ${props => props.theme.colors.primary};\n    background: ${props => props.theme.colors.primaryLight};\n  }\n`;\n\n// Function to format bot responses with better readability\n_c12 = ExampleQuery;\nconst formatBotResponse = text => {\n  if (!text) return text;\n  let formatted = text;\n\n  // Convert **Section:** to headers\n  formatted = formatted.replace(/\\*\\*([^*:]+):\\*\\*/g, '<h4>$1:</h4>');\n\n  // Convert bold text\n  formatted = formatted.replace(/\\*\\*([^*]+)\\*\\*/g, '<strong>$1</strong>');\n\n  // Split into lines and process\n  const lines = formatted.split('\\n').filter(line => line.trim());\n  let result = [];\n  let currentList = [];\n  lines.forEach((line, index) => {\n    const trimmed = line.trim();\n\n    // Handle headers\n    if (trimmed.includes('<h4>')) {\n      // Close any open list\n      if (currentList.length > 0) {\n        result.push(`<ul>${currentList.join('')}</ul>`);\n        currentList = [];\n      }\n      result.push(`<div class=\"section\">${trimmed}</div>`);\n      return;\n    }\n\n    // Handle numbered items (1. 2. etc.)\n    if (/^\\d+\\.\\s+/.test(trimmed)) {\n      const content = trimmed.replace(/^\\d+\\.\\s+/, '');\n      currentList.push(`<li>${content}</li>`);\n      return;\n    }\n\n    // Handle bullet points\n    if (trimmed.startsWith('â€¢') || trimmed.startsWith('-') || trimmed.startsWith('*')) {\n      const content = trimmed.substring(1).trim();\n      currentList.push(`<li>${content}</li>`);\n      return;\n    }\n\n    // Regular paragraph\n    if (trimmed) {\n      // Close any open list\n      if (currentList.length > 0) {\n        result.push(`<ul>${currentList.join('')}</ul>`);\n        currentList = [];\n      }\n      result.push(`<p>${trimmed}</p>`);\n    }\n  });\n\n  // Close any remaining list\n  if (currentList.length > 0) {\n    result.push(`<ul>${currentList.join('')}</ul>`);\n  }\n  return result.join('');\n};\nfunction ChatInterface() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [sessionId] = useState(() => uuidv4());\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const formatTime = date => {\n    return new Intl.DateTimeFormat('en-US', {\n      hour: '2-digit',\n      minute: '2-digit'\n    }).format(date);\n  };\n  const sendMessage = async (messageText = inputValue.trim()) => {\n    if (!messageText || isLoading) return;\n    const userMessage = {\n      id: uuidv4(),\n      text: messageText,\n      isUser: true,\n      timestamp: new Date(),\n      isNew: true\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await chatService.sendMessage(messageText, sessionId);\n      const assistantMessage = {\n        id: uuidv4(),\n        text: response.message,\n        isUser: false,\n        timestamp: new Date(),\n        type: response.type,\n        isNew: true\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (err) {\n      console.error('Chat error:', err);\n      setError(err.message || 'Failed to send message');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n  const handleInputChange = e => {\n    setInputValue(e.target.value);\n\n    // Auto-resize textarea\n    e.target.style.height = 'auto';\n    e.target.style.height = e.target.scrollHeight + 'px';\n  };\n  const exampleQueries = [\"What's the best time to plant tomatoes?\", \"How do I control pests in my corn crop?\", \"What fertilizer should I use for wheat?\", \"Tell me about soil preparation\"];\n  return /*#__PURE__*/_jsxDEV(ChatContainer, {\n    children: [/*#__PURE__*/_jsxDEV(MessagesContainer, {\n      children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(WelcomeMessage, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Welcome to KisaanSahayak! \\uD83C\\uDF3E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"I'm here to help with all your farming and agriculture questions.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"examples\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Try asking about:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this), exampleQueries.map((query, index) => /*#__PURE__*/_jsxDEV(ExampleQuery, {\n            onClick: () => sendMessage(query),\n            children: query\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this) : messages.map(message => /*#__PURE__*/_jsxDEV(Message, {\n        isUser: message.isUser,\n        isNew: message.isNew,\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          isUser: message.isUser,\n          children: message.isUser ? /*#__PURE__*/_jsxDEV(FiUser, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 35\n          }, this) : /*#__PURE__*/_jsxDEV(FiMessageCircle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(MessageBubble, {\n            isUser: message.isUser,\n            children: message.isUser ? message.text : /*#__PURE__*/_jsxDEV(FormattedMessage, {\n              dangerouslySetInnerHTML: {\n                __html: formatBotResponse(message.text)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(MessageTime, {\n            isUser: message.isUser,\n            children: formatTime(message.timestamp)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 15\n        }, this)]\n      }, message.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 13\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(Message, {\n        isUser: false,\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          isUser: false,\n          children: /*#__PURE__*/_jsxDEV(FiMessageCircle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TypingIndicator, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"AI is thinking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dots\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      children: [/*#__PURE__*/_jsxDEV(FiAlertCircle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 11\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(InputContainer, {\n      children: [/*#__PURE__*/_jsxDEV(MessageInput, {\n        ref: inputRef,\n        value: inputValue,\n        onChange: handleInputChange,\n        onKeyPress: handleKeyPress,\n        placeholder: \"Ask me anything about farming...\",\n        disabled: isLoading,\n        rows: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SendButton, {\n        onClick: () => sendMessage(),\n        disabled: !inputValue.trim() || isLoading,\n        children: /*#__PURE__*/_jsxDEV(FiSend, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 429,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatInterface, \"piDQkWSwXdiV7s9WlQVwRrxYwZE=\");\n_c13 = ChatInterface;\nexport default ChatInterface;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13;\n$RefreshReg$(_c, \"ChatContainer\");\n$RefreshReg$(_c2, \"MessagesContainer\");\n$RefreshReg$(_c3, \"Message\");\n$RefreshReg$(_c4, \"Avatar\");\n$RefreshReg$(_c5, \"MessageBubble\");\n$RefreshReg$(_c6, \"FormattedMessage\");\n$RefreshReg$(_c7, \"MessageTime\");\n$RefreshReg$(_c8, \"InputContainer\");\n$RefreshReg$(_c9, \"MessageInput\");\n$RefreshReg$(_c0, \"SendButton\");\n$RefreshReg$(_c1, \"TypingIndicator\");\n$RefreshReg$(_c10, \"ErrorMessage\");\n$RefreshReg$(_c11, \"WelcomeMessage\");\n$RefreshReg$(_c12, \"ExampleQuery\");\n$RefreshReg$(_c13, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","styled","FiSend","FiUser","FiMessageCircle","FiAlertCircle","chatService","v4","uuidv4","jsxDEV","_jsxDEV","ChatContainer","div","props","theme","spacing","md","_c","MessagesContainer","sm","_c2","Message","isNew","xs","isUser","_c3","Avatar","borderRadius","full","fontSizes","colors","primary","secondary","_c4","MessageBubble","lg","base","surface","text","border","_c5","FormattedMessage","textSecondary","_c6","MessageTime","_c7","InputContainer","_c8","MessageInput","textarea","_c9","SendButton","button","disabled","borderLight","transitions","fast","primaryDark","_c0","TypingIndicator","_c1","ErrorMessage","error","_c10","WelcomeMessage","xl","_c11","ExampleQuery","primaryLight","_c12","formatBotResponse","formatted","replace","lines","split","filter","line","trim","result","currentList","forEach","index","trimmed","includes","length","push","join","test","content","startsWith","substring","ChatInterface","_s","messages","setMessages","inputValue","setInputValue","isLoading","setIsLoading","setError","sessionId","messagesEndRef","inputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","formatTime","date","Intl","DateTimeFormat","hour","minute","format","sendMessage","messageText","userMessage","id","timestamp","Date","prev","response","assistantMessage","message","type","err","console","handleKeyPress","e","key","shiftKey","preventDefault","handleInputChange","target","value","style","height","scrollHeight","exampleQueries","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","query","onClick","dangerouslySetInnerHTML","__html","ref","onChange","onKeyPress","placeholder","rows","size","_c13","$RefreshReg$"],"sources":["D:/RAG-Farmers/web-app/frontend/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { FiSend, FiUser, FiMessageCircle, FiAlertCircle } from 'react-icons/fi';\r\nimport { chatService } from '../services/chatService';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst ChatContainer = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: ${props => props.theme.spacing.md};\r\n  overflow: hidden; /* Prevent container overflow */\r\n`;\r\n\r\nconst MessagesContainer = styled.div`\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: ${props => props.theme.spacing.sm};\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: ${props => props.theme.spacing.sm};\r\n  min-height: 0; /* Ensures proper scrolling */\r\n`;\r\n\r\nconst Message = styled.div`\r\n  display: flex;\r\n  gap: ${props => props.theme.spacing.sm};\r\n  align-items: flex-start;\r\n  opacity: ${props => props.isNew ? 0 : 1};\r\n  animation: ${props => props.isNew ? 'fadeIn 0.3s ease-out forwards' : 'none'};\r\n  width: 100%;\r\n  margin-bottom: ${props => props.theme.spacing.xs};\r\n  \r\n  ${props => props.isUser && `\r\n    flex-direction: row-reverse;\r\n    align-self: flex-end;\r\n  `}\r\n  \r\n  @keyframes fadeIn {\r\n    from { opacity: 0; transform: translateY(10px); }\r\n    to { opacity: 1; transform: translateY(0); }\r\n  }\r\n`;\r\n\r\nconst Avatar = styled.div`\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: ${props => props.theme.borderRadius.full};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  color: white;\r\n  font-size: ${props => props.theme.fontSizes.sm};\r\n  \r\n  ${props => props.isUser ? `\r\n    background: ${props.theme.colors.primary};\r\n  ` : `\r\n    background: ${props.theme.colors.secondary};\r\n  `}\r\n`;\r\n\r\nconst MessageBubble = styled.div`\r\n  max-width: 70%;\r\n  min-width: 80px;\r\n  padding: ${props => props.theme.spacing.sm} ${props => props.theme.spacing.md};\r\n  border-radius: ${props => props.theme.borderRadius.lg};\r\n  font-size: ${props => props.theme.fontSizes.base};\r\n  line-height: 1.4;\r\n  border: 2px solid;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\r\n  word-wrap: break-word;\r\n  \r\n  ${props => props.isUser ? `\r\n    background: ${props.theme.colors.primary};\r\n    color: white;\r\n    border-color: ${props.theme.colors.primary};\r\n    border-bottom-right-radius: ${props.theme.borderRadius.sm};\r\n  ` : `\r\n    background: ${props.theme.colors.surface};\r\n    color: ${props.theme.colors.text};\r\n    border-color: ${props.theme.colors.border};\r\n    border-bottom-left-radius: ${props.theme.borderRadius.sm};\r\n  `}\r\n`;\r\n\r\nconst FormattedMessage = styled.div`\r\n  line-height: 1.6;\r\n  \r\n  h3 {\r\n    font-weight: 600;\r\n    font-size: ${props => props.theme.fontSizes.lg};\r\n    margin: ${props => props.theme.spacing.md} 0 ${props => props.theme.spacing.sm} 0;\r\n    color: ${props => props.theme.colors.primary};\r\n    \r\n    &:first-child {\r\n      margin-top: 0;\r\n    }\r\n  }\r\n  \r\n  h4 {\r\n    font-weight: 600;\r\n    font-size: ${props => props.theme.fontSizes.base};\r\n    margin: ${props => props.theme.spacing.sm} 0 ${props => props.theme.spacing.xs} 0;\r\n    color: ${props => props.theme.colors.textSecondary};\r\n  }\r\n  \r\n  ul {\r\n    margin: ${props => props.theme.spacing.xs} 0;\r\n    padding-left: ${props => props.theme.spacing.lg};\r\n    \r\n    li {\r\n      margin-bottom: ${props => props.theme.spacing.xs};\r\n      line-height: 1.5;\r\n    }\r\n  }\r\n  \r\n  p {\r\n    margin: ${props => props.theme.spacing.sm} 0;\r\n    \r\n    &:first-child {\r\n      margin-top: 0;\r\n    }\r\n    \r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  \r\n  strong {\r\n    font-weight: 600;\r\n    color: ${props => props.theme.colors.primary};\r\n  }\r\n  \r\n  .section {\r\n    margin-bottom: ${props => props.theme.spacing.md};\r\n    \r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nconst MessageTime = styled.div`\r\n  font-size: ${props => props.theme.fontSizes.xs};\r\n  color: ${props => props.isUser ? 'rgba(255,255,255,0.8)' : props.theme.colors.textSecondary};\r\n  margin-top: ${props => props.theme.spacing.xs};\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  display: flex;\r\n  gap: ${props => props.theme.spacing.sm};\r\n  padding: ${props => props.theme.spacing.md};\r\n  background: ${props => props.theme.colors.surface};\r\n  border-radius: ${props => props.theme.borderRadius.lg};\r\n  border: 1px solid ${props => props.theme.colors.border};\r\n  margin-top: ${props => props.theme.spacing.md};\r\n`;\r\n\r\nconst MessageInput = styled.textarea`\r\n  flex: 1;\r\n  border: none;\r\n  background: transparent;\r\n  font-size: ${props => props.theme.fontSizes.base};\r\n  font-family: inherit;\r\n  color: ${props => props.theme.colors.text};\r\n  resize: none;\r\n  outline: none;\r\n  min-height: 20px;\r\n  max-height: 120px;\r\n  \r\n  &::placeholder {\r\n    color: ${props => props.theme.colors.textSecondary};\r\n  }\r\n`;\r\n\r\nconst SendButton = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 40px;\r\n  height: 40px;\r\n  border: none;\r\n  background: ${props => props.disabled ? props.theme.colors.borderLight : props.theme.colors.primary};\r\n  color: white;\r\n  border-radius: ${props => props.theme.borderRadius.md};\r\n  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};\r\n  transition: all ${props => props.theme.transitions.fast};\r\n  \r\n  &:hover:not(:disabled) {\r\n    background: ${props => props.theme.colors.primaryDark};\r\n  }\r\n`;\r\n\r\nconst TypingIndicator = styled.div`\r\n  display: flex;\r\n  gap: ${props => props.theme.spacing.sm};\r\n  align-items: center;\r\n  padding: ${props => props.theme.spacing.md};\r\n  background: ${props => props.theme.colors.surface};\r\n  border: 1px solid ${props => props.theme.colors.border};\r\n  border-radius: ${props => props.theme.borderRadius.lg};\r\n  border-bottom-left-radius: ${props => props.theme.borderRadius.sm};\r\n  color: ${props => props.theme.colors.textSecondary};\r\n  font-style: italic;\r\n  \r\n  .dots {\r\n    display: flex;\r\n    gap: 2px;\r\n  }\r\n  \r\n  .dot {\r\n    width: 4px;\r\n    height: 4px;\r\n    background: ${props => props.theme.colors.textSecondary};\r\n    border-radius: 50%;\r\n    animation: pulse 1.4s ease-in-out infinite both;\r\n  }\r\n  \r\n  .dot:nth-child(1) { animation-delay: -0.32s; }\r\n  .dot:nth-child(2) { animation-delay: -0.16s; }\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: ${props => props.theme.spacing.sm};\r\n  padding: ${props => props.theme.spacing.md};\r\n  background: ${props => props.theme.colors.error}10;\r\n  border: 1px solid ${props => props.theme.colors.error}30;\r\n  border-radius: ${props => props.theme.borderRadius.md};\r\n  color: ${props => props.theme.colors.error};\r\n  font-size: ${props => props.theme.fontSizes.sm};\r\n  margin-top: ${props => props.theme.spacing.sm};\r\n`;\r\n\r\nconst WelcomeMessage = styled.div`\r\n  text-align: center;\r\n  padding: ${props => props.theme.spacing.xl};\r\n  color: ${props => props.theme.colors.textSecondary};\r\n  \r\n  h2 {\r\n    font-size: ${props => props.theme.fontSizes['2xl']};\r\n    color: ${props => props.theme.colors.primary};\r\n    margin-bottom: ${props => props.theme.spacing.md};\r\n  }\r\n  \r\n  p {\r\n    font-size: ${props => props.theme.fontSizes.lg};\r\n    margin-bottom: ${props => props.theme.spacing.lg};\r\n  }\r\n  \r\n  .examples {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: ${props => props.theme.spacing.sm};\r\n    max-width: 400px;\r\n    margin: 0 auto;\r\n  }\r\n`;\r\n\r\nconst ExampleQuery = styled.button`\r\n  padding: ${props => props.theme.spacing.sm} ${props => props.theme.spacing.md};\r\n  border: 1px solid ${props => props.theme.colors.border};\r\n  background: ${props => props.theme.colors.surface};\r\n  border-radius: ${props => props.theme.borderRadius.md};\r\n  color: ${props => props.theme.colors.text};\r\n  cursor: pointer;\r\n  font-size: ${props => props.theme.fontSizes.sm};\r\n  transition: all ${props => props.theme.transitions.fast};\r\n  \r\n  &:hover {\r\n    border-color: ${props => props.theme.colors.primary};\r\n    background: ${props => props.theme.colors.primaryLight};\r\n  }\r\n`;\r\n\r\n// Function to format bot responses with better readability\r\nconst formatBotResponse = (text) => {\r\n  if (!text) return text;\r\n  \r\n  let formatted = text;\r\n  \r\n  // Convert **Section:** to headers\r\n  formatted = formatted.replace(/\\*\\*([^*:]+):\\*\\*/g, '<h4>$1:</h4>');\r\n  \r\n  // Convert bold text\r\n  formatted = formatted.replace(/\\*\\*([^*]+)\\*\\*/g, '<strong>$1</strong>');\r\n  \r\n  // Split into lines and process\r\n  const lines = formatted.split('\\n').filter(line => line.trim());\r\n  let result = [];\r\n  let currentList = [];\r\n  \r\n  lines.forEach((line, index) => {\r\n    const trimmed = line.trim();\r\n    \r\n    // Handle headers\r\n    if (trimmed.includes('<h4>')) {\r\n      // Close any open list\r\n      if (currentList.length > 0) {\r\n        result.push(`<ul>${currentList.join('')}</ul>`);\r\n        currentList = [];\r\n      }\r\n      result.push(`<div class=\"section\">${trimmed}</div>`);\r\n      return;\r\n    }\r\n    \r\n    // Handle numbered items (1. 2. etc.)\r\n    if (/^\\d+\\.\\s+/.test(trimmed)) {\r\n      const content = trimmed.replace(/^\\d+\\.\\s+/, '');\r\n      currentList.push(`<li>${content}</li>`);\r\n      return;\r\n    }\r\n    \r\n    // Handle bullet points\r\n    if (trimmed.startsWith('â€¢') || trimmed.startsWith('-') || trimmed.startsWith('*')) {\r\n      const content = trimmed.substring(1).trim();\r\n      currentList.push(`<li>${content}</li>`);\r\n      return;\r\n    }\r\n    \r\n    // Regular paragraph\r\n    if (trimmed) {\r\n      // Close any open list\r\n      if (currentList.length > 0) {\r\n        result.push(`<ul>${currentList.join('')}</ul>`);\r\n        currentList = [];\r\n      }\r\n      result.push(`<p>${trimmed}</p>`);\r\n    }\r\n  });\r\n  \r\n  // Close any remaining list\r\n  if (currentList.length > 0) {\r\n    result.push(`<ul>${currentList.join('')}</ul>`);\r\n  }\r\n  \r\n  return result.join('');\r\n};\r\n\r\nfunction ChatInterface() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [sessionId] = useState(() => uuidv4());\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const formatTime = (date) => {\r\n    return new Intl.DateTimeFormat('en-US', {\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    }).format(date);\r\n  };\r\n\r\n  const sendMessage = async (messageText = inputValue.trim()) => {\r\n    if (!messageText || isLoading) return;\r\n\r\n    const userMessage = {\r\n      id: uuidv4(),\r\n      text: messageText,\r\n      isUser: true,\r\n      timestamp: new Date(),\r\n      isNew: true,\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputValue('');\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await chatService.sendMessage(messageText, sessionId);\r\n      \r\n      const assistantMessage = {\r\n        id: uuidv4(),\r\n        text: response.message,\r\n        isUser: false,\r\n        timestamp: new Date(),\r\n        type: response.type,\r\n        isNew: true,\r\n      };\r\n\r\n      setMessages(prev => [...prev, assistantMessage]);\r\n    } catch (err) {\r\n      console.error('Chat error:', err);\r\n      setError(err.message || 'Failed to send message');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n    \r\n    // Auto-resize textarea\r\n    e.target.style.height = 'auto';\r\n    e.target.style.height = e.target.scrollHeight + 'px';\r\n  };\r\n\r\n  const exampleQueries = [\r\n    \"What's the best time to plant tomatoes?\",\r\n    \"How do I control pests in my corn crop?\",\r\n    \"What fertilizer should I use for wheat?\",\r\n    \"Tell me about soil preparation\"\r\n  ];\r\n\r\n  return (\r\n    <ChatContainer>\r\n      <MessagesContainer>\r\n        {messages.length === 0 ? (\r\n          <WelcomeMessage>\r\n            <h2>Welcome to KisaanSahayak! ðŸŒ¾</h2>\r\n            <p>I'm here to help with all your farming and agriculture questions.</p>\r\n            <div className=\"examples\">\r\n              <strong>Try asking about:</strong>\r\n              {exampleQueries.map((query, index) => (\r\n                <ExampleQuery\r\n                  key={index}\r\n                  onClick={() => sendMessage(query)}\r\n                >\r\n                  {query}\r\n                </ExampleQuery>\r\n              ))}\r\n            </div>\r\n          </WelcomeMessage>\r\n        ) : (\r\n          messages.map(message => (\r\n            <Message key={message.id} isUser={message.isUser} isNew={message.isNew}>\r\n              <Avatar isUser={message.isUser}>\r\n                {message.isUser ? <FiUser /> : <FiMessageCircle />}\r\n              </Avatar>\r\n              <div>\r\n                <MessageBubble isUser={message.isUser}>\r\n                  {message.isUser ? (\r\n                    message.text\r\n                  ) : (\r\n                    <FormattedMessage \r\n                      dangerouslySetInnerHTML={{ \r\n                        __html: formatBotResponse(message.text) \r\n                      }} \r\n                    />\r\n                  )}\r\n                </MessageBubble>\r\n                <MessageTime isUser={message.isUser}>\r\n                  {formatTime(message.timestamp)}\r\n                </MessageTime>\r\n              </div>\r\n            </Message>\r\n          ))\r\n        )}\r\n        \r\n        {isLoading && (\r\n          <Message isUser={false}>\r\n            <Avatar isUser={false}>\r\n              <FiMessageCircle />\r\n            </Avatar>\r\n            <TypingIndicator>\r\n              <span>AI is thinking</span>\r\n              <div className=\"dots\">\r\n                <div className=\"dot\"></div>\r\n                <div className=\"dot\"></div>\r\n                <div className=\"dot\"></div>\r\n              </div>\r\n            </TypingIndicator>\r\n          </Message>\r\n        )}\r\n        \r\n        <div ref={messagesEndRef} />\r\n      </MessagesContainer>\r\n\r\n      {error && (\r\n        <ErrorMessage>\r\n          <FiAlertCircle />\r\n          {error}\r\n        </ErrorMessage>\r\n      )}\r\n\r\n      <InputContainer>\r\n        <MessageInput\r\n          ref={inputRef}\r\n          value={inputValue}\r\n          onChange={handleInputChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Ask me anything about farming...\"\r\n          disabled={isLoading}\r\n          rows=\"1\"\r\n        />\r\n        <SendButton\r\n          onClick={() => sendMessage()}\r\n          disabled={!inputValue.trim() || isLoading}\r\n        >\r\n          <FiSend size={16} />\r\n        </SendButton>\r\n      </InputContainer>\r\n    </ChatContainer>\r\n  );\r\n}\r\n\r\nexport default ChatInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}